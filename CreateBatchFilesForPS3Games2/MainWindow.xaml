<Window x:Class="CreateBatchFilesForPS3Games2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="PS3 Batch Creator" Height="600" Width="800"
        WindowStartupLocation="CenterScreen">
    
    <Window.Resources>
        <Style TargetType="Button">
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="MinWidth" Value="80"/>
        </Style>
        <Style TargetType="TextBox">
            <Setter Property="Padding" Value="5"/>
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style TargetType="CheckBox">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
        <Style TargetType="Label">
            <Setter Property="Margin" Value="5"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Configuration Section -->
        <Grid Grid.Row="0" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- Game Folder Selection -->
            <Label Grid.Row="0" Grid.Column="0" Content="Game Folder:"/>
            <TextBox Grid.Row="0" Grid.Column="1" IsReadOnly="True" 
                     Text="{Binding GameFolderPath, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            <Button Grid.Row="0" Grid.Column="2" Content="Browse..." 
                    Command="{Binding BrowseGameFolderCommand}"/>
            
            <!-- RPCS3 Executable Selection -->
            <Label Grid.Row="1" Grid.Column="0" Content="RPCS3 Path:"/>
            <TextBox Grid.Row="1" Grid.Column="1" IsReadOnly="True" 
                     Text="{Binding Rpcs3Path, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            <Button Grid.Row="1" Grid.Column="2" Content="Browse..." 
                    Command="{Binding BrowseRpcs3PathCommand}"/>
            
            <!-- Options -->
            <CheckBox Grid.Row="2" Grid.Column="1" Content="Include games installed in RPCS3" 
                      IsChecked="{Binding IncludeInstalledGames}"/>
            <CheckBox Grid.Row="3" Grid.Column="1" Content="Overwrite existing batch files" 
                      IsChecked="{Binding OverwriteExistingFiles}"/>
            
            <!-- Action Buttons -->
            <StackPanel Grid.Row="4" Grid.Column="1" Orientation="Horizontal" 
                        HorizontalAlignment="Center" Margin="0,10,0,0">
                <Button Content="Create Batch Files" Command="{Binding CreateBatchFilesCommand}"
                        IsEnabled="{Binding IsNotProcessing}"/>
                <Button Content="Cancel" Command="{Binding CancelCommand}"
                        IsEnabled="{Binding IsProcessing}"/>
            </StackPanel>
        </Grid>
        
        <!-- Log Section -->
        <Border Grid.Row="1" BorderBrush="LightGray" BorderThickness="1" Margin="10">
            <ScrollViewer HorizontalScrollBarVisibility="Auto" VerticalScrollBarVisibility="Auto">
                <TextBox IsReadOnly="True" TextWrapping="Wrap" FontFamily="Consolas"
                         Text="{Binding LogContent, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
            </ScrollViewer>
        </Border>
        
        <!-- Status Bar -->
        <StatusBar Grid.Row="2">
            <StatusBarItem>
                <TextBlock Text="{Binding StatusMessage}"/>
            </StatusBarItem>
        </StatusBar>
        
        <!-- Progress Bar -->
        <ProgressBar Grid.Row="3" Height="20" Margin="10,0" 
                     Minimum="0" Maximum="100" Value="{Binding ProgressValue}"/>
        
        <!-- Footer Space -->
        <Grid Grid.Row="4" Height="10"/>
    </Grid>
</Window>